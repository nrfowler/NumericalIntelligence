<html>

<head>
    <title>NumericalIQ.com</title>
    <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-auth.js"></script>
    <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>
    <script src="stocks.js"></script>
    <script src="game.js"></script>
    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyB_9Qvoce-yLTyYM-Sd74JR_3IHXUcazZY",
            authDomain: "numerical-iq.firebaseapp.com",
            databaseURL: "https://numerical-iq.firebaseio.com",
            projectId: "numerical-iq",
            storageBucket: "numerical-iq.appspot.com",
            messagingSenderId: "907028689388",
            appId: "1:907028689388:web:79d61b29df8d9add1550c9",
            measurementId: "G-VGHT4DKPKK"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
    </script>
    <script src="game.js"></script>
    <script src="addition.js"></script>
    <script src="multiply.js"></script>
    <script src="alphanumeric.js"></script>
    <script src="bridge.js"></script>

    <script>
        //var randomnum = Math.floor(Math.random() * (1000 - 100) + 100) / 100;
        window.onload = function() {
            modeNames = [loadSerialAddition, loadLongAddition, loadMult, loadDivide, loadAlpha];
            modeTitles = [];
            verbalMode = true;
            modeLevel = 1;
            showTime = 0;
            modeBlinkDuration=[];
            reviewMode = false;
            listnames =[];
            priceslist = [];
            displaytypelist=['vlist','hlist','truckgauges','stocks']
            listnames[0] = ['front suspension', 'front wheel', 'front brake', 'cab area', 'saddle tank area', 'coupling system',
          'rear tractor wheels','suspension','brakes'];
          listnames[1] = ['B','C','N','O','F'];
          listnames[2]=['exhaust pyrom','engine oil p','engine oil t','engine coolant t','ammeter','voltmeter','tachometer',
        'odom','air p','air brake app p','fuel gauge','air filter rest','axle t','2nd axle t']
        listnames[3]=['BA','WMT','D','IBM','KO','WFC','SPY','NDAQ']

          priceslist[0]=[];
          priceslist[1]=[5,6,7,8,9];
          priceslist[2]=[];


          priceslist[3]=[172,344,78.50,124.64,216.47,24.20,100,100];
          stocks = new Stocks('ARKXWZK7XN8ZWJ0W');
          pricefoo = new Array();
          var rand = getRandomInt(listnames.length);
          rand = 3;
          varItems = listnames[rand];
          displaytype=displaytypelist[rand];
          prices = [];

          prices = priceslist[rand];
          populateStocks();
            //[4,3,3,9,0,10];
            points = 0;
            gameLevel = 1;
            totalPitches = 0;
            totalModes = modeNames.length;
            mode = 0;
            answerShown = false;
            blinkMode = 0;
            question = "";
            inarow = 0;
            timeouts = [];
            document.cookie = "2";
            //timer variable
            seconds = 0;
            elapsed = 0;
            totalTime = 0;
            //points scored in "pitch"
            pointDiff = 0;
            //do wrong answers decrement points?
            penaltyMode = true;
            //displays error logging to user w/o console
            ermsg = ""
            problem2 = {
                desc: "",
                answer: ""
            };

            retainMode = false;

            pausedQ = [];
            sentraw = [];
            db = firebase.firestore();
            HardProblems = [];
            hpm = [];
            CurrentHP = HardProblems[0];
            db.collection("flashcards").get().then(function(querySnapshot) {
                querySnapshot.forEach(function(doc) {
                    // doc.data() is never undefined for query doc snapshots
                    sentraw.push(doc.data()["content"].replace("add ", ""));
                    //console.log(sentraw.pop());
                });
                //wait until loaded
                rndI = sentraw.length - 1;
                loadGame();
            });
            //previous random variable
            PRV = 0;
            modeNames.forEach(x => x());
            loadGame();
        }
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="bar1">
        <textarea id="problem2"></textarea>
    </div>
    <div style="font-size:40px" id="bridge">
    </div>
    <div id="bar2">
        <input id="ans" type="number" onkeydown="checkAns()" autofocus>
        <br />
        <span id="levelDisplay">
    Level: 0
  </span>
        <input type="button" class="button" value="&#9650;" onclick="incLevel()" />
        <input type="button" class="button" value="&#9660;" onclick="decLevel()" />
        <br/>

<span id="modeDisplay">
  Mode: 0
</span>
        <input type="button" class="button" value="&#x25c2;" onclick="modeDown()" />
                    <input type="button" class="button" value="&#x25b8;" onclick="modeUp()" />

        <br />

        <br />
        <input type="button" class="button" value="Toggle Blink Mode" id="blinkButton" onclick="changeBlinkMode()" />
        <br />
        <input type="button" class="button" value="Review Mode" id="reviewButton" onclick="changeReviewMode()" />
<br />
        <input type="button" class="button" value="Verbal Mode" id="verbalButton" onclick="changeVerbalMode()" />
        <br />
                <input type="button" class="button" value="Retention Mode" id="retainButton" onclick="changeRetentionMode()" />
        <br />
        <div id="stats">
            <p id="answer2"></p>
            <p id="curMode"></p>
            <p id="isBlink"></p>
        </div>
    </div>
</body>
</html>
